{% extends "pages/layout.html" %}
{% load static %}

{% block title %}Toad - For when your brain has too many tabs open{% endblock %}

{% block extra_head %}
<style>
    /* Override layout padding for home page */
    #app {
        padding: 0 !important;
    }
    
    /* Mobile-specific text wrapping */
    @media (max-width: 767px) {
        #typewriter-text {
            white-space: normal !important;
            word-wrap: break-word !important;
            overflow-wrap: break-word !important;
            width: auto !important;
            overflow: visible !important;
        }
        
        #headline-container h1 {
            white-space: normal !important;
            word-wrap: break-word !important;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="min-h-[80vh] sm:min-h-[80vh] flex flex-col items-center justify-start px-4 pt-8 bg-white">
    <!-- Initial Logo and Text (shown first) -->
    <div id="initial-content" class="text-center">
        <div class="mb-2" id="logo-container" style="opacity: 0;">
            <div class="w-48 h-48 sm:w-64 sm:h-64 mx-auto">
                <img src="{% static 'img/logo/toad_logo.png' %}" alt="Toad Logo" class="w-full h-full object-contain">
            </div>
        </div>
        
        <!-- Video Section (hidden initially, positioned where text will be) -->
        <div id="video-container" class="w-full relative" style="opacity: 0; display: none;">
            <video id="hero-video" class="w-full h-auto object-contain" 
                   muted 
                   playsinline>
                <source src="{% static 'video/Home -Hero Video.mp4' %}" type="video/mp4">
            </video>
        </div>
        
        <h1 id="initial-text" class="text-4xl sm:text-6xl font-extrabold leading-tight mb-8" style="opacity: 0;">
            <span style="color: var(--title-text);">For people who</span>
            <span style="color: var(--primary-action-bg);"> have a job to do.</span>
        </h1>
        
        <!-- Join Button -->
        <div id="join-button" class="text-center mt-12 sm:mt-16" style="opacity: 0;">
            <a href="{% url 'accounts:register_choices' %}"
               class="inline-block px-8 py-3 rounded-lg font-medium transition-all duration-200 cursor-pointer text-[var(--primary-action-text)]"
               style="background: var(--tertiary-action-bg);"
               onmouseover="this.style.background='#e65c36'" onmouseout="this.style.background='var(--tertiary-action-bg)'">
                Join Today for Free
            </a>
        </div>
    </div>

    <!-- Mobile Screenshot Section (hidden initially) -->
    <div id="mobile-screenshot-container" class="w-full max-w-sm mx-auto mt-16" style="opacity: 0; display: none;">
        <img src="{% static 'img/home/Mobile Home Screenshot.png' %}" alt="Mobile Toad App Screenshot" class="w-full h-auto object-contain rounded-lg">
    </div>
</div>

<!-- New Content Section -->
<section id="green-section" class="min-h-screen opacity-0 translate-y-8 transition-all duration-700" style="background-color: oklch(0.99 0.005 106);">
    <!-- Hero Section -->
    <div class="container mx-auto px-4 py-20 md:py-32">
        <div class="max-w-5xl mx-auto text-center space-y-8">
            <!-- Animated Badge -->
            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-green-50 text-sm font-medium text-gray-700 mb-4 mt-8">
                <span class="relative flex h-2 w-2">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                </span>
                The antidote to complexity
            </div>

            <h1 class="text-5xl md:text-7xl font-bold tracking-tight text-gray-900">
                Tired of tools that are <span style="color: var(--primary-action-bg);">more work</span> than the work itself?
            </h1>

            <p class="text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
                The feature fatigue, the mandatory onboarding, the endless notifications. Most "productivity" tools become
                the very thing they're supposed to solve: a distraction.
            </p>

            <div class="pt-4">
                <p class="text-lg font-semibold mb-6 text-gray-900">We believe in the opposite.</p>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Toad is the antidote to complexity. It's built on one ruthless principle: give you exactly what you need
                    to get organised, and nothing you don't.
                </p>
            </div>
        </div>
    </div>

    <!-- Main Value Prop -->
    <div class="container mx-auto px-4 py-12">
        <div class="max-w-7xl mx-auto">
            <!-- Two-column layout -->
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <!-- Left Column: Text and Features -->
                <div>
                    <h2 class="text-5xl md:text-6xl font-bold text-left mb-3 text-gray-900">
                        <span class="text-green-600">Clarity</span>, by Design.
                    </h2>
                    <p class="text-xl text-gray-600 text-left mb-12 leading-relaxed">
                        We built Toad for people who have a job to do. That means giving you exactly what you need to get organised, and ruthlessly cutting everything you don't.
                    </p>

                    <!-- Feature Grid -->
                    <div class="grid grid-cols-2 gap-6">
                        <!-- Box 1: Visual Command Center -->
                        <div class="p-6 space-y-4 bg-white rounded-xl border border-gray-200 hover:border-green-300 transition-colors shadow-sm">
                            <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center">
                                <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-bold text-green-600">Your Visual Command Center</h3>
                            <p class="text-sm text-gray-600 leading-relaxed">
                                Get a bird's-eye view of all your projects, clients, and goals. Toad's simple grid turns your chaos into a clear, scannable dashboard.
                            </p>
                        </div>

                        <!-- Box 2: Radical Simplicity -->
                        <div class="p-6 space-y-4 bg-white rounded-xl border border-gray-200 hover:border-green-300 transition-colors shadow-sm">
                            <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center">
                                <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-bold text-green-600">Radical Simplicity</h3>
                            <p class="text-sm text-gray-600 leading-relaxed">
                                No complex setup or lengthy induction needed. Sign up and have your first project organised in under 60 seconds.
                            </p>
                        </div>

                        <!-- Box 3: Projects, Not Just Tasks -->
                        <div class="p-6 space-y-4 bg-white rounded-xl border border-gray-200 hover:border-green-300 transition-colors shadow-sm">
                            <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center">
                                <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-bold text-green-600">Projects, Not Just Tasks</h3>
                            <p class="text-sm text-gray-600 leading-relaxed">
                                A simple list can't manage a product launch. Toad's unique "matrix of checklists" gives you the structure for complex projects.
                            </p>
                        </div>

                        <!-- Box 4: Clarity Without the Cost -->
                        <div class="p-6 space-y-4 bg-white rounded-xl border border-gray-200 hover:border-green-300 transition-colors shadow-sm">
                            <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center">
                                <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                                </svg>
                            </div>
                            <h3 class="text-lg font-bold text-green-600">Clarity Without the Cost</h3>
                            <p class="text-sm text-gray-600 leading-relaxed">
                                No confusing tiers, no hidden enterprise fees. We believe in simple, fair pricing. Get started with our generous free plan, and if you need more, it's just <span class="font-bold text-green-600">Â£2 a month</span>.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Screenshot -->
                <div class="flex justify-center lg:justify-end">
                    <div class="w-full max-w-lg">
                        <img src="{% static 'img/home/Quick grid screenshot.png' %}" alt="Toad Grid Screenshot" class="w-full h-auto rounded-lg shadow-lg">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Perfect Fit Section -->
<section class="py-16 sm:py-24 bg-white">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-4xl sm:text-6xl font-bold text-gray-900 mb-8">
                A perfect fit for the <span style="color: var(--tertiary-action-bg);">work you actually do.</span>
            </h2>
        </div>

        <!-- Three Columns -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12">
            <!-- Column 1: Founders & Entrepreneurs -->
            <div class="text-center">
                <div class="mb-6">
                    <div class="w-16 h-16 mx-auto rounded-full flex items-center justify-center" style="background-color: var(--tertiary-action-bg);">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                    </div>
                </div>
                <h3 class="text-2xl font-bold mb-4 text-gray-900">
                    Founders & Entrepreneurs
                </h3>
                <p class="text-gray-600 leading-relaxed">
                    Map out your product launch, track growth experiments, and manage your entire business from one simple grid.
                </p>
            </div>

            <!-- Column 2: Freelancers & Creators -->
            <div class="text-center">
                <div class="mb-6">
                    <div class="w-16 h-16 mx-auto rounded-full flex items-center justify-center" style="background-color: var(--tertiary-action-bg);">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                    </div>
                </div>
                <h3 class="text-2xl font-bold mb-4 text-gray-900">
                    Freelancers & Creators
                </h3>
                <p class="text-gray-600 leading-relaxed">
                    Manage your client pipeline, plan your content calendar, and track project deadlines with beautiful clarity.
                </p>
            </div>

            <!-- Column 3: Students & Academics -->
            <div class="text-center">
                <div class="mb-6">
                    <div class="w-16 h-16 mx-auto rounded-full flex items-center justify-center" style="background-color: var(--tertiary-action-bg);">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"></path>
                        </svg>
                    </div>
                </div>
                <h3 class="text-2xl font-bold mb-4 text-gray-900">
                    Students & Academics
                </h3>
                <p class="text-gray-600 leading-relaxed">
                    Organise your courses, plan your essays, and track your revision. Finally, a clear view of your entire semester.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="py-16 sm:py-24" style="background-color: oklch(0.99 0.005 106);">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-4xl sm:text-6xl font-bold text-gray-900 mb-6">
            Ready to <span style="color: var(--primary-action-bg);">simplify your workflow?</span>
        </h2>
        <p class="text-xl text-gray-600 mb-12">
            Join thousands who've ditched complexity for clarity.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a href="{% url 'accounts:register_choices' %}"
               class="inline-block w-full sm:w-auto px-8 py-4 rounded-lg font-medium transition-all duration-200 cursor-pointer text-white text-center"
               style="background: var(--primary-action-bg);"
               onmouseover="this.style.background='var(--primary-action-hover-bg)'" 
               onmouseout="this.style.background='var(--primary-action-bg)'">
                Try Toad today for free
            </a>
            <a href="{% url 'pages:templates_overview' %}"
               class="inline-block w-full sm:w-auto px-8 py-4 rounded-lg font-medium transition-all duration-200 cursor-pointer text-gray-900 bg-white border border-gray-300 text-center"
               onmouseover="this.style.backgroundColor='#f9fafb'" 
               onmouseout="this.style.backgroundColor='white'">
                See how other users are benefitting from Toad
            </a>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Animation sequence elements
        const logoContainer = document.getElementById('logo-container');
        const initialText = document.getElementById('initial-text');
        const joinButton = document.getElementById('join-button');
        const initialContent = document.getElementById('initial-content');
        const videoContainer = document.getElementById('video-container');
        const heroVideo = document.getElementById('hero-video');
        const mobileScreenshotContainer = document.getElementById('mobile-screenshot-container');
        
        // Check if we're on mobile
        const isMobile = window.innerWidth < 768;
        
        // Phase 1: Show logo and text (button only on mobile initially)
        initialContent.style.display = 'block';
        setTimeout(() => {
            logoContainer.style.opacity = '1';
            logoContainer.style.transition = 'opacity 0.8s ease-out';
            initialText.style.opacity = '1';
            initialText.style.transition = 'opacity 0.8s ease-out';
            
            // Only show button on mobile initially
            if (isMobile) {
                joinButton.style.opacity = '1';
                joinButton.style.transition = 'opacity 0.8s ease-out';
            }
        }, 100);
        
        // Phase 2: After 3 seconds, switch based on device
        setTimeout(() => {
            if (isMobile) {
                // Mobile: Show screenshot and scroll to it
                mobileScreenshotContainer.style.display = 'block';
                mobileScreenshotContainer.style.opacity = '0';
                setTimeout(() => {
                    mobileScreenshotContainer.style.opacity = '1';
                    mobileScreenshotContainer.style.transition = 'opacity 0.8s ease-out';
                    
                    // Smooth scroll to screenshot
                    mobileScreenshotContainer.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                }, 100);
            } else {
                // Desktop: Fade out text and button, keep logo visible
                initialText.style.opacity = '0';
                joinButton.style.opacity = '0';
                initialText.style.transition = 'opacity 0.5s ease-out';
                joinButton.style.transition = 'opacity 0.5s ease-out';
                
                setTimeout(() => {
                    // Hide text completely
                    initialText.style.display = 'none';
                    
                    // Show and fade in video (moves up to replace text position)
                    videoContainer.style.display = 'block';
                    videoContainer.style.opacity = '0';
                    setTimeout(() => {
                        videoContainer.style.opacity = '1';
                        videoContainer.style.transition = 'opacity 0.8s ease-out';
                        // Start video playback
                        heroVideo.play();
                    }, 50);
                }, 500);
            }
        }, 3000);
        
        // Phase 3: Desktop only - when video ends, fade out video and show text + button
        if (!isMobile) {
            heroVideo.addEventListener('ended', function() {
                // Fade out video
                videoContainer.style.opacity = '0';
                videoContainer.style.transition = 'opacity 0.5s ease-out';
                
                setTimeout(() => {
                    videoContainer.style.display = 'none';
                    
                    // Show and fade text back in
                    initialText.style.display = 'block';
                    initialText.style.opacity = '0';
                    
                    setTimeout(() => {
                        initialText.style.opacity = '1';
                        initialText.style.transition = 'opacity 0.8s ease-out';
                    }, 100);
                    
                    setTimeout(() => {
                        joinButton.style.opacity = '1';
                        joinButton.style.transition = 'opacity 0.8s ease-out';
                    }, 400);
                }, 500);
            });
        }
    });
</script>

<script>
// Interactive Use Case Section JS
(function() {
    const personas = [
        {
            id: 'persona-students',
            img: {
                desktop: '{% static "gif/Course Planner GIF.gif" %}',
                mobile: '{% static "img/Mobile - Student Grid.png" %}'
            },
            video: {
                desktop: '{% static "video/Toad - Students Highlights.mp4" %}'
            },
            alt: 'A screenshot of a Toad grid for students',
        },
        {
            id: 'persona-professionals',
            img: {
                desktop: '{% static "gif/Professionals GIF.gif" %}',
                mobile: '{% static "img/Mobile - Professionals Grid.png" %}'
            },
            alt: 'A screenshot of a Toad grid for professionals',
        },
        {
            id: 'persona-entrepreneurs',
            img: {
                desktop: '{% static "gif/Entrepreneurs GIF.gif" %}',
                mobile: '{% static "img/Mobile - Entrepreneurs Grid.png" %}'
            },
            alt: 'A screenshot of a Toad grid for entrepreneurs',
        },
    ];
    const triggers = document.querySelectorAll('.persona-trigger');
    const showcaseImg = document.getElementById('showcase-image');
    const showcaseVideo = document.getElementById('showcase-video');
    // Always pre-select Students persona on load
    function setActivePersona(personaId) {
        triggers.forEach(t => {
            t.classList.remove('active');
            t.style.borderLeftColor = 'transparent';
            t.style.borderLeftWidth = '6px';
            const title = t.querySelector('.persona-title');
            if (title) title.style.color = getComputedStyle(document.documentElement).getPropertyValue('--text-primary');
        });
        const active = document.getElementById(personaId);
        if (active) {
            active.classList.add('active');
            active.style.borderLeftColor = getComputedStyle(document.documentElement).getPropertyValue('--tertiary-action-bg');
            active.style.borderLeftWidth = '8px';
            const title = active.querySelector('.persona-title');
            if (title) title.style.color = getComputedStyle(document.documentElement).getPropertyValue('--tertiary-action-bg');
            active.style.boxShadow = '0 4px 16px 0 rgba(16,185,129,0.10)';
            const persona = personas.find(p => p.id === personaId);
            if (persona && showcaseImg) {
                const isMobile = window.innerWidth < 768;
                // If desktop and persona has a desktop video, show video instead of image
                if (!isMobile && persona.video && persona.video.desktop && showcaseVideo) {
                    // Hide image, show video
                    showcaseImg.style.display = 'none';
                    showcaseVideo.style.display = 'block';
                    if (showcaseVideo.src !== persona.video.desktop) {
                        showcaseVideo.src = persona.video.desktop;
                    }
                } else {
                    // Show image, hide video
                    showcaseVideo.style.display = 'none';
                    showcaseImg.style.display = 'block';
                    if (persona.id === 'persona-students' || persona.id === 'persona-professionals' || persona.id === 'persona-entrepreneurs') {
                        showcaseImg.src = isMobile ? persona.img.mobile : persona.img.desktop;
                    } else {
                        showcaseImg.src = persona.img;
                    }
                    showcaseImg.alt = persona.alt;
                }
            }
        }
    }
    setActivePersona('persona-students');
    triggers.forEach(trigger => {
        trigger.addEventListener('click', function() {
            setActivePersona(this.id);
        });
        trigger.addEventListener('blur', function() {
            this.style.boxShadow = '';
        });
    });

    // Intersection Observer for fade-in sections
    const greenSection = document.getElementById('green-section');
    const useCaseSection = document.getElementById('use-case-section');
    
    if (greenSection) {
        const greenObserver = new window.IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    greenSection.classList.remove('opacity-0', 'translate-y-8');
                    greenSection.classList.add('opacity-100', 'translate-y-0');
                    greenObserver.disconnect();
                }
            });
        }, { threshold: 0.2 });
        greenObserver.observe(greenSection);
    }
    
    if (useCaseSection) {
        const useCaseObserver = new window.IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    useCaseSection.classList.remove('opacity-0', 'translate-y-8');
                    useCaseSection.classList.add('opacity-100', 'translate-y-0');
                    useCaseObserver.disconnect();
                }
            });
        }, { threshold: 0.2 });
        useCaseObserver.observe(useCaseSection);
    }
})();
</script>

{% endblock %}