{% extends 'pages/layout.html' %}
{% load static %}

{% block title %}Student Template Gallery - Toad{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto">
    <header class="text-center mb-8 md:mb-12 px-4">
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-[var(--primary-action-bg)]">Student Template Gallery</h1>
        <p class="mt-3 md:mt-4 max-w-2xl mx-auto text-base md:text-lg text-[var(--subtitle-text)]">
            Kickstart your academic and career planning with proven templates designed for students
        </p>
    </header>

    <!-- Core Templates Section -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-8 px-4 max-w-4xl mx-auto">
        <div class="template-card bg-[var(--container-bg)] p-4 md:p-6 rounded-lg border border-[var(--border-color)]">
             <h2 class="text-lg md:text-xl font-bold text-[var(--primary-action-bg)]">Course Planner</h2>
             <p class="mt-2 text-sm text-[var(--text-secondary)]">Your easy way to plan your course. Track modules, manage assignments, and ensure you never miss a key deadline.</p>
             <a href="{% url 'pages:course_planner_template' %}" class="mt-4 w-auto px-6 text-center bg-[var(--primary-action-bg)] hover:bg-[var(--primary-action-hover-bg)] text-[var(--primary-action-text)] font-semibold py-2.5 md:py-2 rounded-md text-sm transition-colors duration-200 cursor-pointer inline-block">
                Use Template
             </a>
        </div>
        <div class="template-card bg-[var(--container-bg)] p-4 md:p-6 rounded-lg border border-[var(--border-color)]">
             <h2 class="text-lg md:text-xl font-bold text-[var(--primary-action-bg)]">Exam Revision Planner</h2>
             <p class="mt-2 text-sm text-[var(--text-secondary)]">Your easy way to plan your revision with what works for you. Tailor you revision plan to your needs and ace your exams.</p>
             <a href="{% url 'pages:revision_guide_template' %}" class="mt-4 w-auto px-6 text-center bg-[var(--primary-action-bg)] hover:bg-[var(--primary-action-hover-bg)] text-[var(--primary-action-text)] font-semibold py-2.5 md:py-2 rounded-md text-sm transition-colors duration-200 cursor-pointer inline-block">
                Use Template
             </a>
        </div>
    </div>

    <!-- Divider -->
    <div class="border-t border-dashed border-[var(--border-color)] my-8 md:my-12 mx-4"></div>

    <!-- Interactive Job Tracker Section -->
    <div class="px-4">
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-6 md:gap-8">
            <!-- Left Column: Template Selection -->
            <div class="xl:col-span-1">
                <div class="space-y-4">
                    <!-- Job Application Tracker Card -->
                    <div id="job-tracker-card" class="template-card bg-[var(--container-bg)] p-4 md:p-6 rounded-lg border border-[var(--border-color)]">
                        <h2 class="text-lg md:text-xl font-bold text-[var(--text-primary)]">Student Job Application Tracker</h2>
                        <p class="mt-2 text-sm text-[var(--text-secondary)]">Essential for managing your internship applications, graduate schemes, and part-time job searches.</p>
                        
                        <div class="mt-4 md:mt-6">
                            <p class="text-xs font-semibold text-[var(--subtitle-text)] uppercase tracking-wider mb-2">✨ Choose your career path</p>
                            <div id="variation-tags-container" class="flex flex-wrap gap-2">
                                <span class="variation-tag active bg-[var(--grid-header-bg)] text-[var(--text-secondary)] text-xs font-medium px-3 py-1.5 md:py-1 rounded-full" data-template="generic">General</span>
                                <span class="variation-tag bg-[var(--grid-header-bg)] text-[var(--text-secondary)] text-xs font-medium px-3 py-1.5 md:py-1 rounded-full" data-template="accounting">Accounting</span>
                                <span class="variation-tag bg-[var(--grid-header-bg)] text-[var(--text-secondary)] text-xs font-medium px-3 py-1.5 md:py-1 rounded-full" data-template="consulting">Consulting</span>
                                <span class="variation-tag bg-[var(--grid-header-bg)] text-[var(--text-secondary)] text-xs font-medium px-3 py-1.5 md:py-1 rounded-full" data-template="marketing">Marketing</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Template Preview -->
            <div class="xl:col-span-2">
                <div class="bg-[var(--container-bg)] p-4 md:p-6 rounded-lg border border-[var(--border-color)]">
                    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3">
                        <div>
                            <h3 id="preview-title" class="text-lg md:text-xl font-bold text-[var(--text-primary)]"></h3>
                            <p id="preview-subtitle" class="text-sm text-[var(--subtitle-text)]"></p>
                        </div>
                        <button class="bg-[var(--primary-action-bg)] hover:bg-[var(--primary-action-hover-bg)] text-[var(--primary-action-text)] font-semibold py-2.5 md:py-2 px-4 rounded-md text-sm transition-colors duration-200 w-full sm:w-auto cursor-pointer">
                            Use Template
                        </button>
                    </div>
                    
                    <div id="template-preview-container" class="overflow-x-auto border border-[var(--border-color)] rounded-md">
                        <!-- Preview Table will be rendered here by JavaScript -->
                    </div>
                    
                    <!-- Mobile scroll hint -->
                    <div class="mt-2 text-xs text-[var(--text-secondary)] text-center md:hidden">
                        ← Swipe to explore the grid →
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
